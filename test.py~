import requests
import nltk
from nltk import PorterStemmer
import ijson
from ftplib import FTP
import itertools
stemmer = PorterStemmer()
stop_words = []
ftp = FTP('ftp.cs.cornell.edu')
ftp.login()
ftp.cwd('/pub/smart/')
ftp.retrlines("RETR english.stop", stop_words.append)
ftp.quit()
resp = requests.get('http://node01.public.learningregistry.net/obtain?request_ID=http://www.phschool.com/iText/math/sample_chapter/Ch02/02-01/PH_Alg1_ch02-01_Obj1.html', prefetch=False)
raw_items = ijson.items(resp.raw, "documents.item.document.item.keys.item")
items = [i.lower() for i in itertools.chain.from_iterable((x.split(" ") for x in raw_items)) if i not in stop_words]
print nltk.pos_tag(items)
